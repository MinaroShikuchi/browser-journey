# Browser Journey

A Chrome extension that visualizes your browsing history as an interactive tree graph, helping you understand your web navigation patterns and browsing sessions.

## Features

‚ú® **Interactive Tree Visualization**
- Browsing paths displayed as vertical trees from top to bottom
- Each page appears as a node, sized by visit frequency
- Links show actual navigation flow (not just chronological visits)
- Duplicate URLs merged into single nodes with visit counts

üéØ **Smart Path Navigation**
- Side menu lists all distinct browsing paths by domain
- **AI-generated titles** using Chrome Built-in AI (Gemini Nano) when available
- Select individual paths or view all at once
- Pin important paths to keep them at the top
- Filter out single-page paths with a checkbox
- Collapsible menu for maximum screen space

üîç **Advanced Filtering**
- Search domains to filter path list (not tree view)
- Date range filtering (pre-filled with today's date)
- Hide paths with only one page
- Real-time updates as you browse

üìä **Detailed Information**
- Hover over nodes to see date/time tooltips
- Click nodes to view full page details
- Visit count, first/last visit timestamps
- Delete individual paths from history

üíÖ **Modern UI**
- Material Icons throughout
- Dark theme with professional aesthetics
- Smooth animations and transitions
- Responsive hover effects

üíæ **Data Management**
- Export complete data as JSON
- Clear history with confirmation
- All data stored locally (privacy-first)
- Automatic tracking via service worker

## Installation

### Requirements

- Chrome browser (version 127+ for AI features, 88+ for basic functionality)
- **For AI-generated titles:** Chrome Built-in AI must be enabled
  - Navigate to `chrome://flags/#optimization-guide-on-device-model`
  - Set to "Enabled BypassPerfRequirement"
  - Restart Chrome
  - The AI model will download automatically on first use

### From Source

1. **Clone or download this repository**
   ```bash
   git clone https://github.com/yourusername/browser-journey.git
   cd browser-journey
   ```

2. **Create extension icons** (if not already present)
   - You need three icon sizes: 16x16, 48x48, and 128x128 pixels
   - Place them in the `icons/` directory
   - Name them: `icon16.png`, `icon48.png`, `icon128.png`

3. **Load the extension in Chrome**
   - Open Chrome and navigate to `chrome://extensions/`
   - Enable "Developer mode" (toggle in top-right corner)
   - Click "Load unpacked"
   - Select the `browser-journey` directory

4. **Start browsing!**
   - The extension will automatically track your navigation
   - Click the extension icon to see quick stats
   - Click "Open Visualization" to see your journey graph

## Usage

### Quick Stats Popup
Click the Browser Journey icon in your toolbar to see:
- Total unique domains visited
- Total number of visits
- Visits today

### Visualization Page
Click "Open Visualization" to access the full interactive tree graph:

**Path Navigation:**
- **Side Menu:** Browse all your browsing paths organized by domain
- **AI Titles:** Descriptive titles generated by Chrome's AI (falls back to domain name if unavailable)
- **Select Path:** Click any path to view it in the tree
- **Show All:** View all paths simultaneously
- **Pin Paths:** Click the pin icon to keep important paths at the top
- **Hide Singles:** Use checkbox to hide paths with only one page
- **Collapse Menu:** Toggle menu visibility for full-screen view

**Tree Interaction:**
- **Hover:** See date/time tooltips on any node
- **Click Node:** View detailed page information
- **Zoom/Pan:** Navigate large trees easily
- **Move Nodes:** Drag nodes to customize layout

**Filtering:**
- **Search:** Filter the path list by domain name
- **Date Range:** Select start/end dates (defaults to today)
- **Apply/Reset:** Apply filters or reset to show all data

**Actions:**
- **Export JSON:** Download complete browsing data
- **Clear History:** Remove all data or specific paths
- **Refresh:** Reload tree with latest data

### Detail Panel
When you click a node:
- View visit count, first visit, and last visit times
- See page title and URL
- Close panel with X button or by selecting another node

## Privacy & Data

üîí **Your data stays private:**
- All browsing data is stored locally in Chrome's storage
- No external servers or analytics
- No data is ever transmitted outside your browser
- You can clear your history at any time

üì¶ **Data Storage:**
- Uses Chrome Storage API (local storage)
- Automatic cleanup of data older than 90 days
- Typical storage: ~1-5 MB for thousands of visits

## Technical Details

### Architecture
- **Manifest Version:** 3 (latest Chrome extension API)
- **Visualization:** D3.js v7 with custom tree layout algorithm
- **Storage:** Chrome Storage API (local)
- **AI:** Chrome Built-in AI (Gemini Nano) for path title generation
- **Languages:** JavaScript (ES6+), HTML5, CSS3
- **Icons:** Material Icons from Google Fonts
- **Theme:** Dark mode with professional color palette

### File Structure
```
browser-journey/
‚îú‚îÄ‚îÄ manifest.json              # Extension configuration
‚îú‚îÄ‚îÄ background.js              # Service worker for tracking
‚îú‚îÄ‚îÄ popup/
‚îÇ   ‚îú‚îÄ‚îÄ popup.html            # Extension popup UI
‚îÇ   ‚îú‚îÄ‚îÄ popup.js              # Popup logic
‚îÇ   ‚îî‚îÄ‚îÄ popup.css             # Popup styles
‚îú‚îÄ‚îÄ visualization/
‚îÇ   ‚îú‚îÄ‚îÄ visualization.html    # Main graph page
‚îÇ   ‚îú‚îÄ‚îÄ visualization.js      # Graph rendering
‚îÇ   ‚îú‚îÄ‚îÄ visualization.css     # Graph styles
‚îÇ   ‚îî‚îÄ‚îÄ dataManager.js        # Data access layer
‚îú‚îÄ‚îÄ icons/                    # Extension icons
‚îî‚îÄ‚îÄ README.md                 # This file
```

### Data Structure

**Visits:**
```javascript
{
  id: "unique-id",
  domain: "example.com",
  url: "https://example.com/page",
  title: "Page Title",
  timestamp: 1700000000000,
  fromDomain: "google.com",  // Source of navigation
  tabId: 123
}
```

**Merged Nodes (in visualization):**
```javascript
{
  id: "url-hash",
  url: "https://example.com/page",
  domain: "example.com",
  title: "Page Title",
  firstVisit: 1700000000000,
  lastVisit: 1700000000000,
  visitCount: 5,
  radius: 15  // Calculated from visit count
}
```

**Paths (connected components):**
```javascript
{
  nodes: [...],  // Array of merged nodes
  links: [...]   // Navigation links between nodes
}
```

## Troubleshooting

### Extension not tracking visits
- Make sure the extension is enabled in `chrome://extensions/`
- Check that you've granted necessary permissions
- Try refreshing the page you're visiting

### Tree not loading
- Click the "Refresh" button
- Check browser console for errors (F12)
- Ensure you have browsing data (visit some sites first)

### Paths not showing correctly
- Verify that navigation is being tracked (check if fromDomain is recorded)
- Try clearing and rebuilding your history
- Apply date filters to see recent paths

### Performance issues with large datasets
- Use date filters to reduce displayed data
- Hide single-page paths
- View one path at a time instead of "Show All"
- Collapse the side menu for better performance

### Pinned paths not persisting
- Check browser's localStorage permissions
- Clear browser cache and restart
- Re-pin paths after refresh

### AI titles not working
- Verify Chrome version is 127 or higher
- Enable Chrome Built-in AI flag (see Installation Requirements)
- Restart Chrome after enabling the flag
- Wait for the AI model to download (may take a few minutes)
- Check console for AI-related errors (F12)
- Extension will fall back to domain names if AI is unavailable

## Development

### Prerequisites
- Chrome browser (version 88+)
- Basic knowledge of JavaScript and Chrome Extensions

### Local Development
1. Make changes to source files
2. Go to `chrome://extensions/`
3. Click the refresh icon on the Browser Journey card
4. Test your changes

### Building for Production
The extension is ready to use as-is. For distribution:
1. Ensure all icons are present
2. Update version in `manifest.json`
3. Zip the entire directory
4. Upload to Chrome Web Store

## Contributing

Contributions are welcome! Please feel free to submit issues or pull requests.

### Ideas for Future Enhancements
- Timeline view with session grouping
- Category tagging for domains
- Productivity analytics and insights
- Browser sync across devices
- Custom color schemes and themes
- Export as image/PDF
- Search within page titles
- Path comparison and analysis

## License

MIT License - feel free to use and modify as needed.

## Credits

- Built with [D3.js](https://d3js.org/) for visualization
- Icons from [Material Icons](https://fonts.google.com/icons)
- Inspired by the need to understand web browsing patterns and navigation flow

## Support

If you encounter any issues or have questions:
- Open an issue on GitHub
- Check the troubleshooting section above
- Review Chrome extension documentation

---

**Enjoy exploring your browsing journey!** üöÄ